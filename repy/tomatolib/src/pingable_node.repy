include icmp_node.lib
include parse_args.lib
include run_forever.lib

if callfunc == 'initialize':
    defaults = {"ip":"\x0a\x00\x00\x01", "mac":randombytes()[:6]}
    options = parse_args(defaults)
    node = ICMPNode(**options)
    run_forever(node.handle)