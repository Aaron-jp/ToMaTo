{% extends "admin/base.html" %}

{% load tomato %}

{% block content %}
<h1>List of templates</h1>

{% if hostManager %}
	<p><input type="button" onClick="window.location='{%url device_templates.add%}'" value="Add template" /></p>
{% endif %}

{% if templ_list %}
	<script src="/js/enhancetable.js"></script>
	
	
	<table class="sortable,filterable">
	  <tr>
	  	<th>Tech</th>
	    <th>Label</th>
	    <th>Subtype</th>
	    <th>Preference</th>
	    <th>Restricted</th>
	    
	    {% if hostManager %}
	    	<th />
	    {% endif %}
	    
	  </tr>
	{% for templ in templ_list %}
	  <tr>
	  	<td enhancetable_customkey="{{templ.attrs.tech}}" align="right">
			{% if templ.attrs.tech == 'kvmqm' %}
				<img src="/img/kvm16.png" title="KVM" />
			{% else %}{% if templ.attrs.tech == 'openvz' %}
				<img src="/img/openvz16.png" title="OpenVZ" />
			{% else %}
				<img src="/img/repy16.png" title="Repy" />
			{% endif %}{% endif %}
		</td>
	  
	    <td>{{templ.attrs.label}}</td>
	    <td>{{templ.attrs.subtype}}</td>
	    <td>{{templ.attrs.preference}}</td>
	    
	    <td>
		    {% if templ.attrs.restricted %}
		    	<img src="/img/tick.png" title="restricted" />
		    {% endif %}
	    </td>
	    
	    {% if hostManager %}
	    	<td><small><a href="{%url device_templates.edit%}?id={{templ.id}}"><img src="/img/cd_edit.png" title="edit" /></a> &nbsp; <a href="{%url device_templates.remove%}?id={{templ.id}}"><img src="/img/cd_delete.png" title="remove" /></a></small></td>
	    {% endif %}
	    
	  </tr>
	{% endfor %}
	</table>
{% else %}
	No sites
{% endif %}

{% if hostManager %}
	<p><input type="button" onClick="window.location='{%url device_templates.add%}'" value="Add template" /></p>
{% endif %}

{% endblock %}
