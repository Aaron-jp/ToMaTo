{% extends "top/base.html" %}

{% block content %}
<h1>Detail view of topology {{top.id}}</h1>

ID: {{top.id}}<br/>
Owner: {{top.owner}}<br/>
State: {{top.state}}<br/>

<br/>

{% for p in top.analysis.problems %}
Problem: {{p}}<br/>
{% endfor %}

{% for w in top.analysis.warnings %}
Warning: {{w}}<br/>
{% endfor %}

{% for w in top.analysis.hints %}
Hint: {{h}}<br/>
{% endfor %}

{% if action %}
<h2>Output of {{action}}</h2>
<pre>
{{output}}
</pre>
{% endif %}

{% endblock %}

{% block left %}
<div id="sidemenu">
	<h2>Topology {{top_id}}</h2>
	<ul>
		<li><a href="/top/{{top_id}}">details</a></li>
		<li><a href="/top/{{top_id}}/showxml">show</a></li>
		<li><a href="/top/{{top_id}}/showxml?plain">download</a></li>
{% if top.is_created %}
		<li><a href="/top/{{top_id}}/remove">remove</a></li>
{% endif %}
	</ul>
</div>

<div id="sidemenu">
	<h2>Deployment</h2>
	<ul>
{% if top.is_prepared %} 
		<li><a href="/top/{{top_id}}/start">start</a></li>
{% endif %}
{% if top.is_prepared or top.is_started %} 
		<li><a href="/top/{{top_id}}/stop">stop</a></li>
{% endif %}
{% if top.is_uploaded %} 
		<li><a href="/top/{{top_id}}/prepare">prepare</a></li>
{% endif %}
		<li><a href="/top/{{top_id}}/upload">upload</a></li>
{% if top.is_uploaded or top.is_prepared %} 
		<li><a href="/top/{{top_id}}/destroy">destroy</a></li>
{% endif %}
	</ul>
</div>
{% endblock %}